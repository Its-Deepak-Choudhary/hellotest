<!DOCTYPE html>
<html>
<head>
  <title>Daily Data Report</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin-top: 20px; }
    .container { display: flex; flex-wrap: wrap; justify-content: center; }
    .district-box { border: 1px solid #ccc; padding: 10px; margin: 10px; width: 200px; border-radius: 10px; }
    .district-box input[type="text"], .district-box input[type="tel"] { width: 90%; margin: 5px 0; padding: 5px; }
    button { padding: 10px 20px; background-color: #007BFF; color: white; border: none; border-radius: 5px; cursor: pointer; }
    button:hover { background-color: #0056b3; }
  </style>
</head>
<body>
  <h2>IT-PMU Team</h2>
  <h3>HIOMS डेटा प्रविष्टि का दैनिक कार्यक्रम प्रतिवेदन</h3>

  <div>
    <label>Schedule Date:</label>
    <input type="date" id="date">
  </div>

  <div>
    <label>HQ Manager:</label>
    <select id="manager">
      <option>Shalu Kumari</option>
      <option>Other Manager</option>
    </select>
  </div>

  <div><h3>Districts:</h3></div>
  
  <div class="container">
    <div class="district-box">
      <label><input type="checkbox" class="district" value="Begusarai"> Begusarai</label>
      <input type="text" placeholder="Name" id="name_Begusarai">
      <input type="tel" placeholder="Phone" id="phone_Begusarai">
    </div>

    <div class="district-box">
      <label><input type="checkbox" class="district" value="Katihar"> Katihar</label>
      <input type="text" placeholder="Name" id="name_Katihar">
      <input type="tel" placeholder="Phone" id="phone_Katihar">
    </div>

    <div class="district-box">
      <label><input type="checkbox" class="district" value="Kishanganj"> Kishanganj</label>
      <input type="text" placeholder="Name" id="name_Kishanganj">
      <input type="tel" placeholder="Phone" id="phone_Kishanganj">
    </div>

    <div class="district-box">
      <label><input type="checkbox" class="district" value="Araria"> Araria</label>
      <input type="text" placeholder="Name" id="name_Araria">
      <input type="tel" placeholder="Phone" id="phone_Araria">
    </div>

    <div class="district-box">
      <label><input type="checkbox" class="district" value="Nawada"> Nawada</label>
      <input type="text" placeholder="Name" id="name_Nawada">
      <input type="tel" placeholder="Phone" id="phone_Nawada">
    </div>

    <div class="district-box">
      <label><input type="checkbox" class="district" value="Purnia"> Purnia</label>
      <input type="text" placeholder="Name" id="name_Purnia">
      <input type="tel" placeholder="Phone" id="phone_Purnia">
    </div>
  </div>

  <button onclick="submitForm()">Submit</button>

  <script>
    function submitForm() {
      const date = document.getElementById('date').value;
      const manager = document.getElementById('manager').value;
      const checkboxes = document.querySelectorAll('.district:checked');
      
      if (!date || checkboxes.length === 0) {
        alert('Please select date and at least one district.');
        return;
      }

      let districts = [];
      let entries = [];

      checkboxes.forEach(box => {
        const district = box.value;
        const name = document.getElementById('name_' + district).value;
        const phone = document.getElementById('phone_' + district).value;
        districts.push(district);
        entries.push({ district, name, phone });
      });

      google.script.run.withSuccessHandler(function(response) {
        alert(response);
        location.reload();
      }).submitData({date, manager, districts, entries});
    }
  </script>
</body>
</html>
